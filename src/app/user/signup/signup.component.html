<div class="container py-5">
  <h1 class="fw-bold text-center">Registro de usuario</h1>

  <div class="row justify-content-center my-5">
    <div class="col-md-6 col-lg-4">
      <form class="mt-5" autocomplete="off" [formGroup]="form" (ngSubmit)="signup()">
        <mat-form-field class="mb-2 w-100" appearance="outline">
          <mat-label>Nombres</mat-label>
          <input matInput type="text" placeholder="Nombres" formControlName="firstName">
          <mat-error *ngIf="controlHasError('firstName', 'required')">Este campo es obligatorio</mat-error>
        </mat-form-field>

        <mat-form-field class="mb-2 w-100" appearance="outline">
          <mat-label>Apellidos</mat-label>
          <input matInput type="text" placeholder="Apellidos" formControlName="lastName">
          <mat-error *ngIf="controlHasError('lastName', 'required')">Este campo es obligatorio</mat-error>
        </mat-form-field>

        <mat-form-field class="mb-2 w-100" appearance="outline">
          <mat-label>Correo electrónico</mat-label>
          <input matInput type="email" placeholder="Correo electrónico" formControlName="email">
          <mat-error *ngIf="controlHasError('email', 'required')">Este campo es obligatorio</mat-error>
          <mat-error *ngIf="controlHasError('email', 'email')">Ingrese un email válido</mat-error>
        </mat-form-field>

        <mat-form-field class="mb-2 w-100" appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input matInput [type]="passwordVisible ? 'text' : 'password'" placeholder="Contraseña" formControlName="password">
          <button mat-icon-button matSuffix (click)="passwordVisible = !passwordVisible" type="button">
            <mat-icon>{{ passwordVisible ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="controlHasError('password', 'required')">Este campo es obligatorio</mat-error>
          <mat-error *ngIf="controlHasError('password', 'minlength')">Ingrese una contraseña de al menos 4 caracteres.</mat-error>
        </mat-form-field>

        <div class="mb-3">
          <mat-checkbox formControlName="isMentor">Registrarme como mentor</mat-checkbox>
        </div>

        <div *ngIf="isMentor" class="mentor-fields">
          <mat-form-field class="mb-2 w-100" appearance="outline">
            <mat-label>Biografía</mat-label>
            <textarea matInput placeholder="Cuéntanos sobre ti" formControlName="biografia" rows="3"></textarea>
          </mat-form-field>

          <mat-form-field class="mb-2 w-100" appearance="outline">
            <mat-label>Tarifa por hora</mat-label>
            <input matInput type="number" placeholder="Tarifa por hora" formControlName="tarifaHora">
            <span matPrefix>$&nbsp;</span>
          </mat-form-field>
        </div>

        <div class="text-end">
          <button class="w-100" mat-raised-button color="primary" [disabled]="!form.valid">Registrarme</button>

          <div class="mt-3 text-center">
            ¿Ya tienes una cuenta?
            <a class="ms-2" routerLink="/">Inicia sesión</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
